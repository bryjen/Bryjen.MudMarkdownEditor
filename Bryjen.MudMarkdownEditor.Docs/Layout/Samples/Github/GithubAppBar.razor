@using MudBlazor.Utilities
<!--suppress CssUnresolvedCustomProperty -->

<MudAppBar Fixed="@false" Elevation="0" ToolBarClass="github-issues-toolbar">
    <ChildContent>
        <MudStack Justify="Justify.Center" AlignItems="AlignItems.Stretch" StretchItems="StretchItems.All" 
                  Spacing="0"
                  Style="width: 100%; height: 100%">
            <div class="toolbar-section" style="height: 60%">
                @AppBarMain_Render
            </div>
            <div class="toolbar-section" style="height: 40%">
                @AppBarTabs_Render
            </div>
        </MudStack>
    </ChildContent>
</MudAppBar>


<style>
    .github-issues-toolbar {
        height: 6.45rem !important;
        border-bottom: 1px solid #3d444d
    }
    
    .toolbar-section {
        width: 100%; 
        display: flex; 
        position: relative; 
        align-items: center
    }
    
    
    .search-control {
        width: 100%;
        display: flex;
        flex-direction: row;
        justify-content: start;
        align-items: center;
        gap: 0.3rem;
    }
    
    .search-control-text {
        display: flex;
        justify-content: flex-start;
        gap: 0.35rem;
        align-items: center;
    }
    
    .search-control-forward-slash {
        border-radius: 0.25rem;
        border: 1px solid white;
        padding: 0 5px;
        font-size: smaller;
    }
    
    .actions {
        display: flex;
        align-content: center;
        justify-content: center;
        align-items: center;
        gap: 1rem;
    }
    
    .actions::before {
        display: block;
        width: 1px;
        height: 15px;
        content: "";
        background: white;
    }
    
    .global-create-button {
        padding: 0.3rem !important;
        min-width: 0 !important;
        border: 1px solid !important;
        border-color: var(--mud-palette-text-primary) !important;
    }
    
    .profile-icon {
        background-image: url('imgs/profiles/github-profile-1.png');
        height: 55%;
        aspect-ratio: 1 / 1;
        background-size: cover;
        background-position: center;
        clip-path: circle();

        cursor: pointer;
    }
    
    
    .tab-selected {
        position: relative;
        font-weight: bold;
        color: white;
        border-bottom: 2px solid #ec775c;
        border-radius: 0;
    }
</style>



@code
{
#region AppBarMain
    @* ReSharper disable once InconsistentNaming *@
    private RenderFragment AppBarMain_Render => __builder =>
    {
        <MudButton Variant="Variant.Outlined" IconColor="Color.Secondary"
                   Class="mr-5 "
                   Style="padding: 0.3rem !important; min-width: 0 !important">
            <ChildContent>
                <img src="imgs/octicon-three-bars.svg" alt="description" style="filter: brightness(0) invert(1)">
            </ChildContent>
        </MudButton>

        <MudIcon Icon="@Icons.Custom.Brands.GitHub" Size="Size.Large" Class="mr-2" Style="color: white"/>

        <MudButton Variant="Variant.Text">
            <ChildContent>
                <MudText Typo="Typo.body2">
                    bryjen
                </MudText>
            </ChildContent>
        </MudButton>

        <MudText>/</MudText>

        <MudButton Variant="Variant.Text">
            <ChildContent>
                <MudText Typo="Typo.body2">
                    <b>LandsatReflectance-Alt</b>
                </MudText>
            </ChildContent>
        </MudButton>

        <MudIcon Icon="@Icons.Material.Filled.Lock" Size="Size.Small" Class="mr-2" Style="width: 0.8rem; height: 0.8rem; margin-top: -0.135rem;"/>

        <MudSpacer/>

        <MudButton Variant="Variant.Outlined" Style="width: 15rem; padding: 0.2rem 0.25rem !important; margin: 0 1rem">
            <ChildContent>
                <div class="search-control">
                    <MudIcon Icon="@Icons.Material.Filled.Search" Size="Size.Small "/>
                    <MudText Typo="Typo.body2" Class="search-control-text">
                        <ChildContent>
                            Type
                            <div class="search-control-forward-slash">
                                <p>/</p>
                            </div>
                            to search
                        </ChildContent>
                    </MudText>
                </div>
            </ChildContent>
        </MudButton>

        @AppBarMain_RenderActions

        <div class="profile-icon" alt="Sample Github Profile" style="margin: 0 0 0 1.5rem;"></div>
    };

    @* ReSharper disable once InconsistentNaming *@
    private RenderFragment AppBarMain_RenderActions => __builder =>
    {
        <div class="actions">
            <MudButton Class="global-create-button">
                <ChildContent>
                    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" width="16" data-view-component="true" style="filter: brightness(0) invert(1)">
                        <path d="M7.75 2a.75.75 0 0 1 .75.75V7h4.25a.75.75 0 0 1 0 1.5H8.5v4.25a.75.75 0 0 1-1.5 0V8.5H2.75a.75.75 0 0 1 0-1.5H7V2.75A.75.75 0 0 1 7.75 2Z"></path>
                    </svg>

                    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" width="16" data-view-component="true" style="height: 100%; filter: brightness(0) invert(1)">
                        <path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path>
                    </svg>
                </ChildContent>
            </MudButton>

            <MudButton Variant="Variant.Outlined" IconColor="Color.Secondary"
                       Style="padding: 0.3rem !important; min-width: 0 !important">
                <ChildContent>
                    <img src="imgs/github-issues.svg" alt="description" style="filter: brightness(0) invert(1)">
                </ChildContent>
            </MudButton>

            <MudButton Variant="Variant.Outlined" IconColor="Color.Secondary"
                       Style="padding: 0.3rem !important; min-width: 0 !important">
                <ChildContent>
                    <img src="imgs/github-pull-request.svg" alt="description" style="filter: brightness(0) invert(1)">
                </ChildContent>
            </MudButton>

            <MudBadge Dot Bordered Color="Color.Info">
                <MudButton Variant="Variant.Outlined" IconColor="Color.Secondary"
                           Style="padding: 0.3rem !important; min-width: 0 !important">
                    <ChildContent>
                        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" width="16" data-view-component="true" style="filter: brightness(0) invert(1)">
                            <path d="M2.8 2.06A1.75 1.75 0 0 1 4.41 1h7.18c.7 0 1.333.417 1.61 1.06l2.74 6.395c.04.093.06.194.06.295v4.5A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25v-4.5c0-.101.02-.202.06-.295Zm1.61.44a.25.25 0 0 0-.23.152L1.887 8H4.75a.75.75 0 0 1 .6.3L6.625 10h2.75l1.275-1.7a.75.75 0 0 1 .6-.3h2.863L11.82 2.652a.25.25 0 0 0-.23-.152Zm10.09 7h-2.875l-1.275 1.7a.75.75 0 0 1-.6.3h-3.5a.75.75 0 0 1-.6-.3L4.375 9.5H1.5v3.75c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25Z"></path>
                        </svg>
                    </ChildContent>
                </MudButton>
            </MudBadge>
        </div>
    };
#endregion

    @* ReSharper disable once InconsistentNaming *@
    private RenderFragment AppBarTabs_Render => __builder =>
    {
        int iconTextSpacing = 2;
        
        string buttonClasses = new CssBuilder()
            .AddClass("mx-2")
            .Build();

        string buttonStyles = new StyleBuilder()
            .AddStyle("height: 100%")
            .Build();
        
        <MudButton Variant="Variant.Text" Class="@buttonClasses" Style="@buttonStyles">
            <MudStack Row Justify="Justify.Center" AlignItems="AlignItems.Center" StretchItems="StretchItems.None" Spacing="@iconTextSpacing">
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" width="16" data-view-component="true" style="filter: brightness(0) invert(1)">
                    <path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
                </svg>
                <MudText Align="Align.Center" Style="font-size: small">Code</MudText>
            </MudStack>
        </MudButton>

        <MudButton Variant="Variant.Text" Class="@($"{buttonClasses} tab-selected")" Style="@buttonStyles">
            <MudStack Row Justify="Justify.Center" AlignItems="AlignItems.Center" StretchItems="StretchItems.None" Spacing="@iconTextSpacing">
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" width="16" data-view-component="true" style="filter: brightness(0) invert(1)">
                    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
                    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
                </svg>                
                <MudText Align="Align.Center" Style="font-size: small">
                    <b>Issues</b>
                </MudText>
            </MudStack>
        </MudButton>

        <MudButton Variant="Variant.Text" Class="@buttonClasses" Style="@buttonStyles">
            <MudStack Row Justify="Justify.Center" AlignItems="AlignItems.Center" StretchItems="StretchItems.None" Spacing="@iconTextSpacing">
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" width="16" data-view-component="true" style="filter: brightness(0) invert(1)">
                    <path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"></path>
                </svg>
                <MudText Align="Align.Center" Style="font-size: small">Pull requests</MudText>
            </MudStack>
        </MudButton>

        <MudButton Variant="Variant.Text" Class="@buttonClasses" Style="@buttonStyles">
            <MudStack Row Justify="Justify.Center" AlignItems="AlignItems.Center" StretchItems="StretchItems.None" Spacing="@iconTextSpacing">
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" width="16" data-view-component="true" style="filter: brightness(0) invert(1)">
                    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path>
                </svg> 
                <MudText Align="Align.Center" Style="font-size: small">Actions</MudText>
            </MudStack>
        </MudButton>
        
        <MudButton Variant="Variant.Text" Class="@buttonClasses" Style="@buttonStyles">
            <MudStack Row Justify="Justify.Center" AlignItems="AlignItems.Center" StretchItems="StretchItems.None" Spacing="@iconTextSpacing">
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" width="16" data-view-component="true" style="filter: brightness(0) invert(1)">
                    <path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25ZM6.5 6.5v8h7.75a.25.25 0 0 0 .25-.25V6.5Zm8-1.5V1.75a.25.25 0 0 0-.25-.25H6.5V5Zm-13 1.5v7.75c0 .138.112.25.25.25H5v-8ZM5 5V1.5H1.75a.25.25 0 0 0-.25.25V5Z"></path>
                </svg>
                <MudText Align="Align.Center" Style="font-size: small">Projects</MudText>
            </MudStack>
        </MudButton>

        <MudButton Variant="Variant.Text" Class="@buttonClasses" Style="@buttonStyles">
            <MudStack Row Justify="Justify.Center" AlignItems="AlignItems.Center" StretchItems="StretchItems.None" Spacing="@iconTextSpacing">
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" width="16" data-view-component="true" style="filter: brightness(0) invert(1)">
                    <path d="M7.467.133a1.748 1.748 0 0 1 1.066 0l5.25 1.68A1.75 1.75 0 0 1 15 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.697 1.697 0 0 1-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 0 1 1.217-1.667Zm.61 1.429a.25.25 0 0 0-.153 0l-5.25 1.68a.25.25 0 0 0-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.196.196 0 0 0 .154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.251.251 0 0 0-.174-.237l-5.25-1.68ZM8.75 4.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 1.5 0ZM9 10.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
                </svg> 
                <MudText Align="Align.Center" Style="font-size: small">Security</MudText>
            </MudStack>
        </MudButton>

        <MudButton Variant="Variant.Text" Class="@buttonClasses" Style="@buttonStyles">
            <MudStack Row Justify="Justify.Center" AlignItems="AlignItems.Center" StretchItems="StretchItems.None" Spacing="@iconTextSpacing">
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" width="16" data-view-component="true" style="filter: brightness(0) invert(1)">
                    <path d="M1.5 1.75V13.5h13.75a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75V1.75a.75.75 0 0 1 1.5 0Zm14.28 2.53-5.25 5.25a.75.75 0 0 1-1.06 0L7 7.06 4.28 9.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.25-3.25a.75.75 0 0 1 1.06 0L10 7.94l4.72-4.72a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
                </svg> 
                <MudText Align="Align.Center" Style="font-size: small">Insights</MudText>
            </MudStack>
        </MudButton>

        <MudButton Variant="Variant.Text" Class="@buttonClasses" Style="@buttonStyles">
            <MudStack Row Justify="Justify.Center" AlignItems="AlignItems.Center" StretchItems="StretchItems.None" Spacing="@iconTextSpacing">
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" width="16" data-view-component="true" style="filter: brightness(0) invert(1)">
                    <path d="M8 0a8.2 8.2 0 0 1 .701.031C9.444.095 9.99.645 10.16 1.29l.288 1.107c.018.066.079.158.212.224.231.114.454.243.668.386.123.082.233.09.299.071l1.103-.303c.644-.176 1.392.021 1.82.63.27.385.506.792.704 1.218.315.675.111 1.422-.364 1.891l-.814.806c-.049.048-.098.147-.088.294.016.257.016.515 0 .772-.01.147.038.246.088.294l.814.806c.475.469.679 1.216.364 1.891a7.977 7.977 0 0 1-.704 1.217c-.428.61-1.176.807-1.82.63l-1.102-.302c-.067-.019-.177-.011-.3.071a5.909 5.909 0 0 1-.668.386c-.133.066-.194.158-.211.224l-.29 1.106c-.168.646-.715 1.196-1.458 1.26a8.006 8.006 0 0 1-1.402 0c-.743-.064-1.289-.614-1.458-1.26l-.289-1.106c-.018-.066-.079-.158-.212-.224a5.738 5.738 0 0 1-.668-.386c-.123-.082-.233-.09-.299-.071l-1.103.303c-.644.176-1.392-.021-1.82-.63a8.12 8.12 0 0 1-.704-1.218c-.315-.675-.111-1.422.363-1.891l.815-.806c.05-.048.098-.147.088-.294a6.214 6.214 0 0 1 0-.772c.01-.147-.038-.246-.088-.294l-.815-.806C.635 6.045.431 5.298.746 4.623a7.92 7.92 0 0 1 .704-1.217c.428-.61 1.176-.807 1.82-.63l1.102.302c.067.019.177.011.3-.071.214-.143.437-.272.668-.386.133-.066.194-.158.211-.224l.29-1.106C6.009.645 6.556.095 7.299.03 7.53.01 7.764 0 8 0Zm-.571 1.525c-.036.003-.108.036-.137.146l-.289 1.105c-.147.561-.549.967-.998 1.189-.173.086-.34.183-.5.29-.417.278-.97.423-1.529.27l-1.103-.303c-.109-.03-.175.016-.195.045-.22.312-.412.644-.573.99-.014.031-.021.11.059.19l.815.806c.411.406.562.957.53 1.456a4.709 4.709 0 0 0 0 .582c.032.499-.119 1.05-.53 1.456l-.815.806c-.081.08-.073.159-.059.19.162.346.353.677.573.989.02.03.085.076.195.046l1.102-.303c.56-.153 1.113-.008 1.53.27.161.107.328.204.501.29.447.222.85.629.997 1.189l.289 1.105c.029.109.101.143.137.146a6.6 6.6 0 0 0 1.142 0c.036-.003.108-.036.137-.146l.289-1.105c.147-.561.549-.967.998-1.189.173-.086.34-.183.5-.29.417-.278.97-.423 1.529-.27l1.103.303c.109.029.175-.016.195-.045.22-.313.411-.644.573-.99.014-.031.021-.11-.059-.19l-.815-.806c-.411-.406-.562-.957-.53-1.456a4.709 4.709 0 0 0 0-.582c-.032-.499.119-1.05.53-1.456l.815-.806c.081-.08.073-.159.059-.19a6.464 6.464 0 0 0-.573-.989c-.02-.03-.085-.076-.195-.046l-1.102.303c-.56.153-1.113.008-1.53-.27a4.44 4.44 0 0 0-.501-.29c-.447-.222-.85-.629-.997-1.189l-.289-1.105c-.029-.11-.101-.143-.137-.146a6.6 6.6 0 0 0-1.142 0ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM9.5 8a1.5 1.5 0 1 0-3.001.001A1.5 1.5 0 0 0 9.5 8Z"></path>
                </svg>
                <MudText Align="Align.Center" Style="font-size: small">Settings</MudText>
            </MudStack>
        </MudButton>
    };
}